"use strict";(globalThis["webpackChunkchinese_sub_finder_panel"]=globalThis["webpackChunkchinese_sub_finder_panel"]||[]).push([[264],{4264:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ze});a(5663);var n=a(3673),l=a(2323),o=a(1959),u=a(7647),i=a(8339);const s={key:0};function r(e,t,a,o,u,i){const r=(0,n.up)("menu-item",!0),d=(0,n.up)("q-expansion-item"),m=(0,n.up)("q-icon"),c=(0,n.up)("q-item-section"),p=(0,n.up)("q-item"),w=(0,n.Q2)("ripple");return e.menuInfo.meta&&e.menuInfo.meta.title?((0,n.wg)(),(0,n.iD)("div",s,[e.menuInfo.children&&e.menuInfo.children.length?((0,n.wg)(),(0,n.j4)(d,{key:0,"expand-separator":"",label:e.menuInfo.meta.title,icon:e.menuInfo.meta.icon,"default-opened":e.defaultOpened},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.menuInfo.children,(e=>((0,n.wg)(),(0,n.j4)(r,{class:"q-pl-md","menu-info":e,key:e.name},null,8,["menu-info"])))),128))])),_:1},8,["label","icon","default-opened"])):(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{key:1,to:{name:e.menuInfo.name},active:e.$route.name===e.menuInfo.name,clickable:""},{default:(0,n.w5)((()=>[e.menuInfo.meta.icon?((0,n.wg)(),(0,n.j4)(c,{key:0,avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:e.menuInfo.meta.icon},null,8,["name"])])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.menuInfo.meta.title),1)])),_:1})])),_:1},8,["to","active"])),[[w]])])):(0,n.kq)("",!0)}const d=(0,n.aZ)({name:"MenuItem",props:{menuInfo:{type:Object,required:!0}},computed:{defaultOpened(){return this.$route.matched.some((e=>e.name===this.menuInfo.name))}}});var m=a(4260),c=a(429),p=a(3414),w=a(2035),_=a(4554),b=a(6489),f=a(7518),v=a.n(f);const h=(0,m.Z)(d,[["render",r]]),g=h;v()(d,"components",{QExpansionItem:c.Z,QItem:p.Z,QItemSection:w.Z,QIcon:_.Z}),v()(d,"directives",{Ripple:b.Z});var k=a(4184),q=a(9560),Z=a(6395),W=a(1084),y=a(1465);const Q={class:"row items-center"},S=(0,n._)("span",{class:"q-ml-xs"},"问题反馈",-1),I={__name:"BugReportItem",setup(e){return(e,t)=>{const a=(0,n.up)("q-icon"),l=(0,n.up)("q-item-section"),u=(0,n.up)("q-item");return(0,n.wg)(),(0,n.j4)(u,{clickable:"",onClick:(0,o.SU)(y.m$),title:"跳转到Github issue页面"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n._)("div",Q,[(0,n._)("span",null,[(0,n.Wm)(a,{name:"bug_report",size:"18px"})]),S])])),_:1})])),_:1},8,["onClick"])}}},x=I,C=x;v()(I,"components",{QItem:p.Z,QItemSection:w.Z,QIcon:_.Z});var U=a(9707);const F=["innerHTML"],D={__name:"Markdown",props:{source:{type:String,required:!0}},setup(e){const t=e,a=(0,n.Fl)((()=>U.markdown.toHTML(t.source)));return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"markdown-body",innerHTML:(0,o.SU)(a)},null,8,F))}},V=(0,m.Z)(D,[["__scopeId","data-v-78f253b4"]]),j=V,H=e=>((0,n.dD)("data-v-65132730"),e=e(),(0,n.Cn)(),e),T={class:"text-h5"},B=H((()=>(0,n._)("div",{class:"text-h6"},"Windows",-1))),$=["href"],L=H((()=>(0,n._)("section",null,[(0,n._)("div",{class:"text-h6"},"Docker"),(0,n._)("div",null,[(0,n.Uk)(" 参考教程 "),(0,n._)("a",{href:"https://github.com/ChineseSubFinder/ChineseSubFinder/blob/master/docker/readme.md",target:"_blank"}," Docker部署教程 ")]),(0,n._)("div",{class:"text-grey"}," * 新版本发布到Docker发布完成可能需要一小时左右，如果发现Docker拉取的版本没有变化，请耐心等待一段时间 ")],-1))),M={__name:"VersionUpdateItem",setup(e){const t=(0,o.iH)(Z.Z.getItem("latestVersion")??null),a=(0,o.iH)(!1),u=(0,o.iH)("log"),i=(0,n.Fl)((()=>{const e=k.O.systemInfo?.version.replace(/\s+(L|l)ite$/,"");return t.value?.tag_name&&e&&t.value.tag_name!==e})),s=async()=>{try{const e=await fetch("https://api.github.com/repos/ChineseSubFinder/ChineseSubFinder/releases/latest").then((e=>e.ok?e.json():Promise.reject(e)));t.value=e,Z.Z.set("latestVersion",e)}catch(e){}},r=()=>{window.open(t.value.html_url),a.value=!1};return(0,n.bv)(s),(e,s)=>{const d=(0,n.up)("q-badge"),m=(0,n.up)("q-card-section"),c=(0,n.up)("q-tab"),p=(0,n.up)("q-tabs"),w=(0,n.up)("q-separator"),_=(0,n.up)("q-tab-panel"),b=(0,n.up)("q-tab-panels"),f=(0,n.up)("q-btn"),v=(0,n.up)("q-card-actions"),h=(0,n.up)("q-card"),g=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,o.SU)(i)?((0,n.wg)(),(0,n.iD)("span",{key:0,onClick:s[0]||(s[0]=e=>a.value=!0)},[e.$slots.default?(0,n.WI)(e.$slots,"default",{key:0}):((0,n.wg)(),(0,n.j4)(d,{key:1,class:"cursor-pointer",label:"new",title:"有新的版本更新"}))])):(0,n.kq)("",!0),t.value?((0,n.wg)(),(0,n.j4)(g,{key:1,modelValue:a.value,"onUpdate:modelValue":s[3]||(s[3]=e=>a.value=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:"column",style:{width:"600px","min-height":"400px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n._)("div",T,(0,l.zw)(t.value.tag_name),1)])),_:1}),(0,n.Wm)(p,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=e=>u.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{name:"log",label:"更新日志"}),(0,n.Wm)(c,{name:"update",label:"升级方式"})])),_:1},8,["modelValue"]),(0,n.Wm)(w),(0,n.Wm)(b,{class:"col",modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=e=>u.value=e),animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{name:"log"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(j),{source:t.value.body},null,8,["source"])])),_:1}),(0,n.Wm)(_,{name:"update"},{default:(0,n.w5)((()=>[(0,n._)("section",null,[B,(0,n._)("div",null,[(0,n.Uk)(" 下载最新版本替换， "),(0,n._)("a",{href:t.value.html_url,target:"_blank"}," 下载地址 ",8,$)])]),L])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(w),(0,n.Wm)(v,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{color:"primary",onClick:r},{default:(0,n.w5)((()=>[(0,n.Uk)(" 前往更新 ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,n.kq)("",!0)],64)}}};var O=a(9721),P=a(6778),z=a(151),K=a(5589),A=a(7547),Y=a(3269),R=a(5869),E=a(5906),G=a(6602),N=a(9367),J=a(2165);const X=(0,m.Z)(M,[["__scopeId","data-v-65132730"]]),ee=X;v()(M,"components",{QBadge:O.Z,QDialog:P.Z,QCard:z.Z,QCardSection:K.Z,QTabs:A.Z,QTab:Y.Z,QSeparator:R.Z,QTabPanels:E.Z,QTabPanel:G.Z,QCardActions:N.Z,QBtn:J.Z});var te=a(6674);const ae="## 更新说明\n- v0.51.x TMDB API 支持选择备用地址（根据你的网络环境自己测试）\n- v0.52.x 新增一种字幕保存命名，与视频文件同名（不增加字幕语言类型后缀）\n- v0.53.x 修复解析百位数的剧集故障问题\n\n## 变更说明\n- 原有的 CSF 内置的“共享字幕”功能，将于 2023年5月1日 正式下线，不在维护，请至少更新到 v0.47.x 及其以上版本；\n- CSF 不再维护本地字幕爬虫，全功能版本已经取消支持，所有镜像都指向到 lite 版本；\n- 请开启 SubtitleBest 字幕源设置，缓解字幕下载的问题；\n\n## 初次使用\n- 第一次使用，请务必阅读：[电影和连续剧目录结构示例](https://github.com/ChineseSubFinder/ChineseSubFinder/blob/docs/DesignFile/电影和连续剧目录结构示例.md)、[连续剧目录结构要求](https://github.com/ChineseSubFinder/ChineseSubFinder/blob/docs/DesignFile/连续剧目录结构要求.md)，按要求填写电影和连续剧的目录；\n- 使用本程序的前提：必须是**削刮**过的媒体库，否则无法正常使用；\n- 媒体库如果是**软连接**挂载，目前反馈是无法正常使用的，建议使用硬链接（作者没有相关环境和使用经验，期待有人提交修复方案）；\n- 如果媒体库是远程的网盘，那么请不要开启“字幕时间轴矫正”功能；\n",ne=(0,n._)("div",{class:"text-h6 text-grey-8"},"新增功能介绍",-1),le={__name:"NoticeDialog",setup(e){const t=(0,o.iH)(!1),a=(0,n.Fl)((()=>k.O.systemInfo?.version)),l=(0,n.Fl)((()=>`noticeFlag-${a.value}`)),u=()=>{t.value=!1,Z.Z.set(l.value,!0)};return(0,n.bv)((async()=>{await(0,te.C4)((()=>void 0!==a.value)).toBe(!0);const e=Z.Z.getItem(l.value);e||(t.value=!0)})),(e,a)=>{const l=(0,n.up)("q-card-section"),i=(0,n.up)("q-separator"),s=(0,n.up)("q-btn"),r=(0,n.up)("q-card-actions"),d=(0,n.up)("q-card"),m=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.j4)(m,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{style:{width:"800px","max-width":"800px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[ne])),_:1}),(0,n.Wm)(i),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(j),{source:(0,o.SU)(ae)},null,8,["source"])])),_:1}),(0,n.Wm)(i),(0,n.Wm)(r,{align:"right",class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"q-px-md",flat:"",color:"primary",label:"我知道了",onClick:u})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},oe=le,ue=oe;v()(le,"components",{QDialog:P.Z,QCard:z.Z,QCardSection:K.Z,QSeparator:R.Z,QCardActions:N.Z,QBtn:J.Z});const ie={class:"text-h6 q-ml-sm"},se=(0,n._)("div",{class:"absolute-top-right bg-red",style:{"border-radius":"50%",width:"8px",height:"8px"}},null,-1),re={class:"text-h5 q-py-sm q-px-md"},de=(0,n._)("div",{class:"text-center"},[(0,n._)("img",{src:"icons/logo.png",alt:"",style:{filter:"invert(100%)",height:"60px"}})],-1),me={class:"q-mt-sm text-center relative-position"},ce={__name:"MainLayout",setup(e){const t=(0,i.tv)(),a=(0,o.iH)(!1),s=u.Z.find((e=>"/"===e.path)).children,r=()=>{q.K.username="",q.K.accessToken=void 0,Z.Z.remove("token"),W.Z.logout(),t.push("/access/login")},d=e=>{window.open(e,"_blank")};return(e,t)=>{const u=(0,n.up)("q-btn"),i=(0,n.up)("q-space"),m=(0,n.up)("q-item-section"),c=(0,n.up)("q-item"),p=(0,n.up)("q-list"),w=(0,n.up)("q-btn-dropdown"),_=(0,n.up)("q-toolbar"),b=(0,n.up)("q-header"),f=(0,n.up)("q-badge"),v=(0,n.up)("q-drawer"),h=(0,n.up)("router-view"),Z=(0,n.up)("q-page-container"),W=(0,n.up)("q-layout"),y=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(W,{view:"lHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{elevated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"text-white text-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{flat:"",dense:"",round:"",color:"white",icon:"menu","aria-label":"Menu",onClick:t[0]||(t[0]=e=>a.value=!a.value)}),(0,n._)("div",ie,(0,l.zw)(e.$route.meta.title),1),(0,n.Wm)(i),(0,n.Wm)((0,o.SU)(ee),null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"relative-position q-px-sm"},{default:(0,n.w5)((()=>[(0,n.Uk)(" 版本升级 "),se])),_:1})])),_:1})])),_:1}),(0,n.Wm)(c,{clickable:"",onClick:t[1]||(t[1]=e=>d("https://github.com/ChineseSubFinder/ChineseSubFinder/blob/master/docker/readme.md"))},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" 帮助文档 ")])),_:1})])),_:1}),(0,n.Wm)((0,o.SU)(C)),(0,n.Wm)(w,{label:(0,o.SU)(q.K).username,icon:"account_circle",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{dense:"",style:{"min-width":"100px"}},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(c,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{onClick:r},{default:(0,n.w5)((()=>[(0,n.Uk)("退出登录")])),_:1})])),_:1})),[[y]])])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,n.Wm)(v,{modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value=e),class:"q-pa-md",breakpoint:720,width:280,"show-if-above":"",bordered:"",dark:"",style:{background:"#111729"},"content-class":"bg-white"},{default:(0,n.w5)((()=>[(0,n._)("div",re,[de,(0,n._)("div",me,[(0,n.Wm)(f,{align:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)((0,o.SU)(k.O).systemInfo?.version),1)])),_:1}),(0,n.Uk)(" ChineseSubFinder ")])]),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s),(e=>((0,n.wg)(),(0,n.j4)((0,o.SU)(g),{"menu-info":e,key:`${e.name}${e.path}`},null,8,["menu-info"])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h),(0,n.Wm)((0,o.SU)(ue))])),_:1})])),_:1})}}};var pe=a(3066),we=a(3812),_e=a(9570),be=a(2025),fe=a(2670),ve=a(7011),he=a(2901),ge=a(2652),ke=a(677);const qe=ce,Ze=qe;v()(ce,"components",{QLayout:pe.Z,QHeader:we.Z,QToolbar:_e.Z,QBtn:J.Z,QSpace:be.Z,QItem:p.Z,QItemSection:w.Z,QBtnDropdown:fe.Z,QList:ve.Z,QDrawer:he.Z,QBadge:O.Z,QPageContainer:ge.Z}),v()(ce,"directives",{ClosePopup:ke.Z})}}]);